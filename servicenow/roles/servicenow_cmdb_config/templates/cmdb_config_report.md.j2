# ServiceNow CMDB Configuration Report

**Generated:** {{ ansible_date_time.iso8601 }}  
**Instance:** {{ servicenow_instance }}  
**Configuration Mode:** {{ cmdb_config_mode }}

## Summary

- **CI Classes Configured:** {{ cmdb_ci_classes | length }}
- **Relationship Types:** {{ cmdb_relationship_types | length }}
- **Reconciliation Rules:** {{ cmdb_reconciliation_rules | length }}
- **Identification Rules:** {{ cmdb_identification_rules | length }}
- **Data Sources:** {{ cmdb_data_sources | length }}
- **Health Checks:** {{ cmdb_health_checks | length }}

## CI Classes

{% for ci_class in cmdb_ci_classes %}
### {{ ci_class.label }} ({{ ci_class.name }})
- **Parent Class:** {{ ci_class.parent_class }}
- **Attributes:** {{ ci_class.attributes | length }}

{% for attr in ci_class.attributes %}
  - {{ attr.name }} ({{ attr.type }}){% if attr.mandatory %} - **Mandatory**{% endif %}
{% endfor %}

{% endfor %}

## Fourth Estate Configuration

- **Source Protection Enabled:** {{ fourth_estate_config.source_protection.enabled | default(false) }}
- **Journalist Workstation Tracking:** {{ fourth_estate_config.journalist_workstation_tracking.enabled | default(false) }}
- **Publication System Tracking:** {{ fourth_estate_config.publication_system_tracking.enabled | default(false) }}

### Classification Levels
{% for level in fourth_estate_config.source_protection.classification_levels %}
- {{ level }}
{% endfor %}

## CMDB Metrics

{% if cmdb_metrics_results is defined %}
{% for result in cmdb_metrics_results.results %}
- **{{ result.item.metric }}:** {{ result.json.result | default('N/A') }}
{% endfor %}
{% endif %}

## Health Check Status

{% if cmdb_health_issues is defined and cmdb_health_issues | length > 0 %}
### Issues Found

{% for issue in cmdb_health_issues %}
- **{{ issue.name }}:** {{ issue.description }}
{% endfor %}
{% else %}
No health check issues found.
{% endif %}

---
*Report generated by Ansible ServiceNow CMDB Configuration Role*
