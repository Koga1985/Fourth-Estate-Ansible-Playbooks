---
- hosts: localhost
  connection: local
  gather_facts: false
  roles:
    - role: infoblox_dhcp_failover
      vars:
        nios_host: "nios.example.local"
        nios_username: "{{ lookup('env','NIOS_USER') }}"
        nios_password: "{{ lookup('env','NIOS_PASS') }}"
        nios_validate_certs: false
        nios_wapi_version: "v2.12"
        network_view: "default"
        artifact_dir: "/tmp/infoblox-dhcp-failover"
        dhcp_failover_pairs:
          - name: "Branch-Pair-01"
            mode: "load_balance"
            primary_member: "gridmember-a01"
            secondary_member: "gridmember-a02"
            split: 153
            networks: ["10.10.1.0/24","10.10.2.0/24"]
            ranges: ["10.10.1.50-10.10.1.200"]
          - name: "DC-HS-01"
            mode: "hot_standby"
            primary_member: "dc-dhcp-1"
            secondary_member: "dc-dhcp-2"
            max_outage: 7200
            shared_networks: ["DC-Shared"]
