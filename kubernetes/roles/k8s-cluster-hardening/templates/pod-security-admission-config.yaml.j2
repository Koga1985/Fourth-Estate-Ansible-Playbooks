---
# Pod Security Admission Configuration
# Kubernetes 1.23+ Pod Security Standards

apiVersion: apiserver.config.k8s.io/v1
kind: AdmissionConfiguration
plugins:
  - name: PodSecurity
    configuration:
      apiVersion: pod-security.admission.config.k8s.io/v1
      kind: PodSecurityConfiguration
      defaults:
        enforce: "{{ k8s_pod_security_standard }}"
        enforce-version: "latest"
        audit: "{{ k8s_pod_security_standard }}"
        audit-version: "latest"
        warn: "{{ k8s_pod_security_standard }}"
        warn-version: "latest"
      exemptions:
        usernames: []
        runtimeClasses: []
        namespaces:
          - kube-system
