---
# defaults file for vast_backup_dr
# VAST Data Storage Backup and Disaster Recovery

vast_mgmt_host: "{{ vault_vast_mgmt_host }}"
vast_mgmt_port: 443
vast_mgmt_user: "{{ vault_vast_mgmt_user }}"
vast_mgmt_password: "{{ vault_vast_mgmt_password }}"
vast_api_version: "v1"
vast_verify_ssl: true

# Snapshot Configuration
vast_snapshot_enabled: true
vast_snapshot_schedule: "daily"
vast_snapshot_retention_days: 30
vast_snapshot_prefix: "auto"

# Replication Configuration
vast_replication_enabled: false
vast_replication_type: "async"  # Options: sync, async
vast_replication_target_cluster: "{{ vault_vast_dr_cluster | default('') }}"
vast_replication_target_user: "{{ vault_vast_dr_user | default('') }}"
vast_replication_target_password: "{{ vault_vast_dr_password | default('') }}"
vast_replication_schedule: "hourly"
vast_replication_bandwidth_limit_mbps: 0  # 0 = unlimited

# Backup Configuration
vast_backup_to_external: false
vast_backup_type: "s3"  # Options: s3, nfs, smb
vast_backup_destination: "{{ vault_backup_destination | default('') }}"
vast_backup_schedule: "daily"
vast_backup_retention_days: 90
vast_backup_encryption_enabled: true
vast_backup_compression_enabled: true

# Disaster Recovery Configuration
vast_dr_testing_enabled: false
vast_dr_test_schedule: "quarterly"
vast_dr_rto_minutes: 240  # Recovery Time Objective
vast_dr_rpo_minutes: 60   # Recovery Point Objective

# Protection Policies
vast_protection_policies:
  - name: "critical-data"
    snapshot_frequency: "hourly"
    snapshot_retention: 168  # 7 days
    replication_enabled: true
  - name: "standard-data"
    snapshot_frequency: "daily"
    snapshot_retention: 30
    replication_enabled: false

# Compliance Requirements
vast_backup_audit_enabled: true
vast_backup_integrity_check: true
vast_backup_offsite_copy_required: true
