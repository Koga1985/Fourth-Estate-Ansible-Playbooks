---
# tasks file for vast_backup_dr

- name: Include snapshot configuration tasks
  ansible.builtin.include_tasks: snapshot_config.yml
  when: vast_snapshot_enabled | bool
  tags:
    - backup
    - snapshots

- name: Include replication configuration tasks
  ansible.builtin.include_tasks: replication_config.yml
  when: vast_replication_enabled | bool
  tags:
    - backup
    - replication
    - dr

- name: Include backup configuration tasks
  ansible.builtin.include_tasks: backup_config.yml
  when: vast_backup_to_external | bool
  tags:
    - backup
    - external

- name: Include disaster recovery tasks
  ansible.builtin.include_tasks: dr_config.yml
  tags:
    - dr
    - disaster_recovery

- name: Include protection policy tasks
  ansible.builtin.include_tasks: protection_policies.yml
  tags:
    - backup
    - policies
