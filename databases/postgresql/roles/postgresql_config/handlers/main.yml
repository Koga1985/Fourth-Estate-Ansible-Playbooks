---
# handlers file for postgresql_config

- name: restart postgresql
  ansible.builtin.service:
    name: "postgresql-{{ postgresql_version }}"
    state: restarted

- name: reload postgresql
  ansible.builtin.service:
    name: "postgresql-{{ postgresql_version }}"
    state: reloaded

- name: validate postgresql config
  ansible.builtin.command: >
    {{ postgresql_bin_path }}/postgres
    -D {{ postgresql_data_directory }}
    --check
  become: true
  become_user: postgres
  changed_when: false
