---
# defaults file for postgresql_restore
postgresql_version: 15
postgresql_bin_path: "/usr/pgsql-{{ postgresql_version }}/bin"
postgresql_data_directory: "/var/lib/pgsql/{{ postgresql_version }}/data"
postgresql_config_directory: "{{ postgresql_data_directory }}"
postgresql_backup_directory: "/var/lib/pgsql/backups"
postgresql_wal_archive_directory: "/var/lib/pgsql/wal_archive"
postgresql_port: 5432
postgresql_home_directory: "/var/lib/pgsql"

# Restore type: full, logical, pitr, tablespace, database
# postgresql_restore_type: pitr

# Restore files/paths
# postgresql_restore_backup_file: /path/to/backup.tar.gz
# postgresql_restore_backup_path: /path/to/basebackup/
# postgresql_restore_dump_file: /path/to/database.dump
# postgresql_restore_sql_file: /path/to/database.sql
# postgresql_restore_globals_file: /path/to/globals.sql

# PITR settings
# postgresql_recovery_target_time: '2025-01-15 14:30:00'
# postgresql_recovery_target_xid: '12345'
postgresql_recovery_target_action: promote  # pause, promote, shutdown

# Restore database name
# postgresql_restore_database: mydb

# Post-restore options
postgresql_restore_run_analyze: true
postgresql_restore_analyze_databases: []

# Tablespace restore
# postgresql_tablespace_restore_path: /data/pg_tablespace
