---
# defaults file for azure_service_principals - Service Principal Management
# Fourth Estate Azure Government Cloud Configuration

# Azure Cloud Environment
azure_cloud_environment: "AzureUSGovernment"
azure_region: "usgovvirginia"
azure_tenant_id: "{{ lookup('env', 'AZURE_TENANT_ID') }}"
azure_subscription_id: "{{ lookup('env', 'AZURE_SUBSCRIPTION_ID') }}"

# Resource Group
azure_resource_group: "rg-identity-prod-usgovva"

# Service Principals Configuration
azure_service_principals: []
# Example:
# azure_service_principals:
#   - display_name: "4E-App-Production"
#     identifier_uris: ["https://4e-app.agency.gov"]
#     homepage: "https://4e-app.agency.gov"
#     reply_urls: ["https://4e-app.agency.gov/auth/callback"]
#     available_to_other_tenants: false
#     use_certificate: true
#     certificate_value: "{{ lookup('file', '/path/to/cert.pem') }}"
#     end_date: "2026-12-31T23:59:59Z"
#     use_managed_identity: true
#     managed_identity_name: "mi-4e-app-prod"
#     role_assignments:
#       - "Reader"
#       - "Contributor"
#     scope: "/subscriptions/{{ azure_subscription_id }}/resourceGroups/rg-prod"

# Key Vault Configuration
azure_key_vault_uri: "https://kv-4e-prod-usgovva.vault.usgovcloudapi.net/"
azure_store_credentials_in_keyvault: true

# Audit and Compliance
azure_sp_enable_diagnostics: true
azure_log_analytics_workspace_id: ""  # To be populated

# Operational Settings
azure_sp_display_summary: true

# Cost Management
azure_environment: "Production"
azure_cost_center: "4thEstate-Identity"
azure_classification: "SECRET"

# Resource Tags
azure_resource_tags:
  Environment: "{{ azure_environment }}"
  CostCenter: "{{ azure_cost_center }}"
  Classification: "{{ azure_classification }}"
  Compliance: "FedRAMP-High"
  ManagedBy: "Ansible"

# FedRAMP High Controls Mapping
# AC-2: Account Management
# IA-2: Identification and Authentication
# IA-5: Authenticator Management
# AU-2: Audit Events
# SC-12: Cryptographic Key Establishment and Management
