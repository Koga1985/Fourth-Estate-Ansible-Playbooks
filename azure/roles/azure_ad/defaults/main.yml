---
# defaults file for azure_ad - Azure AD Users and Groups Management
# Fourth Estate Azure Government Cloud Configuration

# Azure Cloud Environment
azure_cloud_environment: "AzureUSGovernment"
azure_region: "usgovvirginia"
azure_tenant_domain: "{{ lookup('env', 'AZURE_TENANT_DOMAIN') }}"
azure_tenant_id: "{{ lookup('env', 'AZURE_TENANT_ID') }}"

# Resource Group
azure_resource_group: "rg-identity-prod-usgovva"

# Azure AD Groups Configuration
azure_ad_groups: []
# Example:
# azure_ad_groups:
#   - display_name: "4E-Administrators"
#     mail_nickname: "4e-admins"
#     description: "Fourth Estate Administrators"
#     security_enabled: true
#     members:
#       - "admin1@agency.gov"
#       - "admin2@agency.gov"
#   - display_name: "4E-Operators"
#     mail_nickname: "4e-ops"
#     description: "Fourth Estate Operators"
#     security_enabled: true

# Azure AD Users Configuration
azure_ad_users: []
# Example:
# azure_ad_users:
#   - user_principal_name: "john.doe@agency.gov"
#     display_name: "John Doe"
#     given_name: "John"
#     surname: "Doe"
#     usage_location: "US"
#     account_enabled: true
#     force_change_password: true

# Security Configuration
azure_ad_security_defaults_enabled: true
azure_ad_manage_security_defaults: true

# Password Policy
azure_ad_configure_password_policy: true
azure_ad_password_validity_days: 90
azure_ad_password_notification_days: 14

# Audit and Compliance
azure_ad_enable_audit_logging: true
azure_ad_configure_diagnostics: true
azure_ad_diagnostic_setting_name: "ad-diagnostics-fedramp"
azure_log_analytics_workspace: "law-identity-prod-usgovva"
azure_log_analytics_workspace_id: ""  # To be populated

# Retention Policies (FedRAMP High requires 1 year minimum)
azure_ad_audit_retention_days: 365
azure_ad_signin_retention_days: 365
azure_ad_risk_retention_days: 365

# Operational Settings
azure_ad_no_log: true  # Protect sensitive data in logs
azure_ad_display_summary: true

# Cost Management
azure_environment: "Production"
azure_cost_center: "4thEstate-Identity"
azure_classification: "SECRET"

# FedRAMP High Controls Mapping
# AC-2: Account Management
# IA-2: Identification and Authentication (Organizational Users)
# IA-4: Identifier Management
# IA-5: Authenticator Management
# AU-2: Audit Events
# AU-11: Audit Record Retention
