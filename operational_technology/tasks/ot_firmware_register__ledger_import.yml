---
# Central ledger of versions & signed binaries.
- name: Ensure artifacts dir
  ansible.builtin.file:
    path: "{{ artifacts_dir | default('/tmp/ot-artifacts') }}"
    state: directory
    mode: "0755"

- name: Import firmware ledger
  ansible.builtin.copy:
    dest: "{{ artifacts_dir }}/firmware_ledger.json"
    mode: "0644"
    content: "{{ firmware_versions | default([]) | to_nice_json }}"
