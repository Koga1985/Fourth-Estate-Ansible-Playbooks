---
# HashiCorp Vault HA Configuration - Defaults
# Fourth Estate Production Configuration

# HA Configuration
vault_ha_enabled: true
vault_ha_redirect_addr: "{{ vault_api_addr }}"

# Load Balancer Configuration
vault_loadbalancer_enabled: true
vault_loadbalancer_type: "haproxy"  # haproxy, nginx, aws_alb
vault_loadbalancer_vip: ""
vault_loadbalancer_port: 8200
vault_loadbalancer_health_check_path: "/v1/sys/health"
vault_loadbalancer_health_check_interval: 10
vault_loadbalancer_backend_servers: []

# Performance Standby (Enterprise)
vault_performance_standby_enabled: false
vault_performance_standby_count: 2

# Request forwarding
vault_request_forwarding_enabled: true

# Cluster performance tuning
vault_cluster_perf_standby_conn_limit: 1000
vault_max_request_size: 33554432  # 32MB
vault_max_request_duration: "90s"

# HA monitoring
vault_ha_monitoring_enabled: true
vault_ha_failover_test_enabled: false

# Backup HA configuration
vault_ha_backup_enabled: true
vault_ha_backup_schedule: "0 */6 * * *"

# Network resilience
vault_cluster_retry_join_enabled: true
vault_cluster_retry_join_max_attempts: 10
vault_cluster_retry_join_interval: 30

# Active-Active (Enterprise)
vault_active_active_enabled: false

# Disaster Recovery
vault_dr_enabled: false
vault_dr_operation_token_ttl: "24h"
