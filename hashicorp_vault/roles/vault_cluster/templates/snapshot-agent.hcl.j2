# Vault Snapshot Agent Configuration
# Generated by Ansible - DO NOT EDIT MANUALLY

vault {
  address = "{{ vault_api_addr }}"
  ca_cert = "{{ vault_tls_ca_file }}"
}

snapshot {
  interval = "{{ vault_snapshot_agent_interval }}"
  retain = 168  # 7 days

{% if vault_snapshot_storage_type == 's3' %}
  storage "aws-s3" {
    bucket = "{{ vault_snapshot_s3_bucket }}"
    region = "{{ vault_snapshot_s3_region }}"
  }
{% elif vault_snapshot_storage_type == 'azure-blob' %}
  storage "azure-blob" {
    container_name = "{{ vault_snapshot_azure_container }}"
    account_name = "{{ vault_snapshot_azure_account }}"
  }
{% elif vault_snapshot_storage_type == 'google-storage' %}
  storage "google-gcs" {
    bucket = "{{ vault_snapshot_gcs_bucket }}"
  }
{% else %}
  storage "local" {
    path = "{{ vault_snapshot_local_path }}"
  }
{% endif %}
}
