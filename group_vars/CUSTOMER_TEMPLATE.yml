---
# ==============================================================================
# FOURTH ESTATE INFRASTRUCTURE - CUSTOMER VARIABLE TEMPLATE
# ==============================================================================
#
# INSTRUCTIONS FOR USE:
# 1. Copy this file to: group_vars/<your_organization>.yml
# 2. Replace all "CHANGE_THIS" values with your actual configuration
# 3. Review and adjust all default values for your environment
# 4. Protect sensitive values using Ansible Vault: ansible-vault encrypt_string
# 5. Run validation: ansible-playbook playbooks/validate_config.yml
#
# ==============================================================================

# ------------------------------------------------------------------------------
# REQUIRED: ORGANIZATION IDENTIFICATION
# ------------------------------------------------------------------------------

# Your news organization/agency name
organization_name: "CHANGE_THIS"  # Example: "Washington Post", "ProPublica", "The Guardian"

# Primary domain for your organization
organization_domain: "CHANGE_THIS.com"  # Example: "washingtonpost.com"

# Organization abbreviation (used in resource naming)
org_abbreviation: "CHANGE_THIS"  # Example: "WP", "PP", "TG" (2-4 characters)

# ------------------------------------------------------------------------------
# REQUIRED: NETWORK CONFIGURATION
# ------------------------------------------------------------------------------

# Network security zone for these hosts
# Options: trusted, dmz, isolated, public
network_zone: "CHANGE_THIS"

# Network descriptions:
# - trusted: Internal network for staff workstations and secure systems
# - dmz: Demilitarized zone for public-facing services
# - isolated: Air-gapped network for highly sensitive operations (source protection)
# - public: Internet-facing systems with minimal internal access

# Primary network CIDR
network_cidr: "CHANGE_THIS"  # Example: "10.0.0.0/16", "172.16.0.0/12"

# DNS servers (space-separated list)
dns_servers:
  - "CHANGE_THIS"  # Example: "8.8.8.8", "1.1.1.1", or your internal DNS
  - "CHANGE_THIS"

# NTP servers for time synchronization
ntp_servers:
  - "CHANGE_THIS"  # Example: "time.nist.gov", or your internal NTP
  - "CHANGE_THIS"

# ------------------------------------------------------------------------------
# REQUIRED: COMPLIANCE AND SECURITY
# ------------------------------------------------------------------------------

# Compliance framework
# Options: nist_800_53, nist_800_171, fedramp_moderate, fedramp_high, disa_stig
compliance_mode: "nist_800_53"

# Security classification level
# Options: public, sensitive, confidential, source_protected
data_classification: "confidential"

# Enable encryption for data at rest and in transit
enable_encryption: true

# Minimum TLS version (1.2 or 1.3)
tls_min_version: "1.3"

# Enable comprehensive audit logging
enable_audit_logging: true

# Audit log retention (days) - Fourth Estate requires minimum 365
audit_log_retention_days: 730  # 2 years

# Enable multi-factor authentication
enable_mfa: true

# ------------------------------------------------------------------------------
# AUTHENTICATION AND DIRECTORY SERVICES
# ------------------------------------------------------------------------------

# LDAP/Active Directory configuration
ldap_enabled: false
ldap_server: "CHANGE_THIS"  # Example: "ldap.example.com"
ldap_base_dn: "CHANGE_THIS"  # Example: "dc=example,dc=com"
ldap_bind_user: "CHANGE_THIS"  # Example: "cn=ansible,ou=service,dc=example,dc=com"
ldap_bind_password: "{{ vault_ldap_password }}"  # Store in Ansible Vault

# Active Directory domain (for Windows systems)
ad_domain: "CHANGE_THIS"  # Example: "corp.example.com"
ad_netbios_name: "CHANGE_THIS"  # Example: "CORP"

# ------------------------------------------------------------------------------
# CLOUD PROVIDER CONFIGURATION (if applicable)
# ------------------------------------------------------------------------------

# AWS Configuration
aws_enabled: false
aws_region: "us-east-1"  # Change to your primary region
aws_account_id: "CHANGE_THIS"
aws_access_key: "{{ vault_aws_access_key }}"
aws_secret_key: "{{ vault_aws_secret_key }}"
aws_use_govcloud: false  # Set true for FedRAMP High requirements

# Azure Configuration
azure_enabled: false
azure_subscription_id: "CHANGE_THIS"
azure_tenant_id: "CHANGE_THIS"
azure_client_id: "{{ vault_azure_client_id }}"
azure_client_secret: "{{ vault_azure_client_secret }}"
azure_location: "eastus"
azure_use_government: false  # Set true for FedRAMP High requirements

# GCP Configuration
gcp_enabled: false
gcp_project_id: "CHANGE_THIS"
gcp_region: "us-east1"
gcp_service_account_file: "{{ vault_gcp_service_account }}"

# ------------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ------------------------------------------------------------------------------

# PostgreSQL
postgresql_enabled: false
postgresql_version: "15"
postgresql_port: 5432
postgresql_admin_user: "postgres"
postgresql_admin_password: "{{ vault_postgresql_password }}"
postgresql_databases:
  - name: "CHANGE_THIS"
    owner: "CHANGE_THIS"

# MySQL/MariaDB
mysql_enabled: false
mysql_version: "8.0"
mysql_port: 3306
mysql_root_password: "{{ vault_mysql_root_password }}"
mysql_databases:
  - name: "CHANGE_THIS"
    user: "CHANGE_THIS"
    password: "{{ vault_mysql_user_password }}"

# Oracle
oracle_enabled: false
oracle_version: "19c"
oracle_sid: "CHANGE_THIS"
oracle_system_password: "{{ vault_oracle_system_password }}"

# ------------------------------------------------------------------------------
# SECRETS MANAGEMENT (HashiCorp Vault)
# ------------------------------------------------------------------------------

vault_enabled: false
vault_address: "https://CHANGE_THIS:8200"  # Example: "https://vault.example.com:8200"
vault_token: "{{ vault_hashicorp_token }}"
vault_namespace: "{{ organization_name | lower }}"

# ------------------------------------------------------------------------------
# MONITORING AND LOGGING
# ------------------------------------------------------------------------------

# Syslog/Log aggregation
syslog_server: "CHANGE_THIS"  # Example: "siem.example.com"
syslog_port: 514
syslog_protocol: "tcp"  # tcp or udp

# ELK Stack
elk_enabled: false
elasticsearch_host: "CHANGE_THIS"
elasticsearch_port: 9200
kibana_host: "CHANGE_THIS"
kibana_port: 5601

# Prometheus/Grafana
prometheus_enabled: false
prometheus_host: "CHANGE_THIS"
prometheus_port: 9090
grafana_host: "CHANGE_THIS"
grafana_port: 3000
grafana_admin_password: "{{ vault_grafana_password }}"

# ------------------------------------------------------------------------------
# VULNERABILITY SCANNING (Tenable)
# ------------------------------------------------------------------------------

tenable_enabled: false
tenable_host: "CHANGE_THIS"  # Example: "tenable.example.com"
tenable_access_key: "{{ vault_tenable_access_key }}"
tenable_secret_key: "{{ vault_tenable_secret_key }}"

# ------------------------------------------------------------------------------
# ITSM INTEGRATION (ServiceNow)
# ------------------------------------------------------------------------------

servicenow_enabled: false
servicenow_instance: "CHANGE_THIS"  # Example: "dev12345" or "prod12345"
servicenow_username: "ansible_api"
servicenow_password: "{{ vault_servicenow_password }}"

# ------------------------------------------------------------------------------
# BACKUP AND DISASTER RECOVERY
# ------------------------------------------------------------------------------

# Veeam
veeam_enabled: false
veeam_server: "CHANGE_THIS"
veeam_username: "{{ vault_veeam_username }}"
veeam_password: "{{ vault_veeam_password }}"
veeam_repository: "CHANGE_THIS"

# Cohesity
cohesity_enabled: false
cohesity_cluster: "CHANGE_THIS"
cohesity_username: "{{ vault_cohesity_username }}"
cohesity_password: "{{ vault_cohesity_password }}"

# Backup retention (days)
backup_retention_daily: 30
backup_retention_weekly: 90
backup_retention_monthly: 365

# ------------------------------------------------------------------------------
# LOAD BALANCER (F5 BIG-IP)
# ------------------------------------------------------------------------------

f5_enabled: false
f5_host: "CHANGE_THIS"
f5_username: "admin"
f5_password: "{{ vault_f5_password }}"
f5_partition: "Common"

# ------------------------------------------------------------------------------
# FIREWALL (Fortinet FortiGate)
# ------------------------------------------------------------------------------

fortinet_enabled: false
fortinet_host: "CHANGE_THIS"
fortinet_username: "admin"
fortinet_password: "{{ vault_fortinet_password }}"
fortinet_vdom: "root"

# ------------------------------------------------------------------------------
# EMAIL AND NOTIFICATIONS
# ------------------------------------------------------------------------------

smtp_server: "CHANGE_THIS"  # Example: "smtp.example.com"
smtp_port: 587
smtp_use_tls: true
smtp_username: "{{ vault_smtp_username }}"
smtp_password: "{{ vault_smtp_password }}"
email_from: "ansible@{{ organization_domain }}"
email_admin: "CHANGE_THIS"  # Example: "sysadmin@example.com"

# Slack notifications
slack_enabled: false
slack_webhook_url: "{{ vault_slack_webhook }}"
slack_channel: "#infrastructure"

# PagerDuty
pagerduty_enabled: false
pagerduty_api_key: "{{ vault_pagerduty_api_key }}"
pagerduty_service_key: "{{ vault_pagerduty_service_key }}"

# ------------------------------------------------------------------------------
# ANSIBLE AUTOMATION PLATFORM / TOWER
# ------------------------------------------------------------------------------

tower_enabled: false
tower_host: "CHANGE_THIS"  # Example: "tower.example.com"
tower_username: "admin"
tower_password: "{{ vault_tower_password }}"
tower_organization: "{{ organization_name }}"

# ------------------------------------------------------------------------------
# TAGGING AND METADATA
# ------------------------------------------------------------------------------

# Common tags applied to all resources
common_tags:
  Organization: "{{ organization_name }}"
  Environment: "{{ environment | default('production') }}"
  Compliance: "{{ compliance_mode }}"
  ManagedBy: "Ansible"
  DataClassification: "{{ data_classification }}"
  NetworkZone: "{{ network_zone }}"

# ------------------------------------------------------------------------------
# OPERATIONAL SETTINGS
# ------------------------------------------------------------------------------

# Environment type
environment: "production"  # Options: development, staging, production

# Maintenance window (for automated updates)
maintenance_window_day: "sunday"
maintenance_window_time: "02:00"
maintenance_window_duration: "4h"

# Automatic updates
enable_auto_updates: false  # Set true only after thorough testing
enable_auto_reboot: false

# High availability
enable_ha: true
ha_cluster_name: "{{ organization_name | lower }}-cluster"

# ------------------------------------------------------------------------------
# FOURTH ESTATE SPECIFIC SETTINGS
# ------------------------------------------------------------------------------

# Source protection (for journalist-source communications)
enable_source_protection: true
source_protection_network: "isolated"  # Must be isolated or air-gapped

# Enable secure drop integration (if using SecureDrop)
securedrop_enabled: false
securedrop_server: "CHANGE_THIS"

# Evidence preservation and chain of custody
enable_evidence_preservation: true
evidence_retention_years: 7

# Shield law compliance tracking
enable_shield_law_compliance: true

# Anonymous tip line systems
anonymous_tipline_enabled: false
tipline_system: "CHANGE_THIS"  # Example: "globaleaks", "securedrop"

# ------------------------------------------------------------------------------
# VALIDATION AND SAFETY
# ------------------------------------------------------------------------------

# Require confirmation before making changes
require_confirmation: true

# Enable check mode by default (dry-run)
default_check_mode: false

# Maximum number of hosts to update simultaneously
serial_batch_size: 5

# Rollback on failure
enable_auto_rollback: true

# ==============================================================================
# END OF CUSTOMER TEMPLATE
# ==============================================================================
#
# Next steps:
# 1. Save this file as: group_vars/<your_organization>.yml
# 2. Encrypt sensitive values: ansible-vault encrypt_string '<password>' --name 'vault_variable_name'
# 3. Validate configuration: ansible-playbook playbooks/validate_config.yml
# 4. Test in development first: -e "environment=development"
# 5. Review audit logs after each deployment
#
# ==============================================================================
