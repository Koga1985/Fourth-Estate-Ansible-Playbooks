---
# Elasticsearch Configuration Handlers

- name: restart elasticsearch
  systemd:
    name: elasticsearch
    state: restarted
  when: elasticsearch_service_state is defined and elasticsearch_service_state == 'started'

- name: reload elasticsearch config
  uri:
    url: "http://localhost:{{ elasticsearch_http_port }}/_nodes/reload_secure_settings"
    method: POST
    status_code: [200]
  ignore_errors: yes
