---
# defaults file for cohesity_cluster_install

# Cohesity Cluster Configuration
cohesity_cluster_name: "cohesity-cluster-01"
cohesity_cluster_domain: "cohesity.local"
cohesity_cluster_gateway: "10.100.1.1"
cohesity_cluster_subnet_mask: "255.255.255.0"
cohesity_cluster_dns_servers:
  - "10.100.1.10"
  - "10.100.1.11"
cohesity_cluster_ntp_servers:
  - "time.nist.gov"
  - "pool.ntp.org"

# Virtual IP (VIP) Configuration
cohesity_cluster_vips:
  - "10.100.1.100"
  - "10.100.1.101"

# Node Configuration
cohesity_nodes:
  - hostname: "cohesity-node-01"
    ip_address: "10.100.1.51"
    node_id: 1
  - hostname: "cohesity-node-02"
    ip_address: "10.100.1.52"
    node_id: 2
  - hostname: "cohesity-node-03"
    ip_address: "10.100.1.53"
    node_id: 3

# Deployment Type (ve = Virtual Edition, physical = Physical Appliance)
cohesity_deployment_type: "ve"

# Virtual Edition Configuration
cohesity_ve_platform: "vmware"  # vmware, hyperv, aws, azure
cohesity_ve_ova_path: "/opt/cohesity/CohesityVirtualEdition.ova"
cohesity_ve_vcenter_host: "vcenter.example.com"
cohesity_ve_vcenter_username: "administrator@vsphere.local"
cohesity_ve_vcenter_password: "{{ vault_vcenter_password }}"
cohesity_ve_datacenter: "Datacenter"
cohesity_ve_cluster: "Cluster01"
cohesity_ve_datastore: "datastore1"
cohesity_ve_network: "VM Network"
cohesity_ve_vm_name_prefix: "cohesity-node"

# Physical Appliance Configuration
cohesity_physical_ipmi_user: "admin"
cohesity_physical_ipmi_password: "{{ vault_ipmi_password }}"

# Network Configuration
cohesity_network_config:
  data_vlan_id: 100
  management_vlan_id: 10
  mtu_size: 9000
  bond_mode: "activeBackup"  # activeBackup, lacp

# Disk Configuration
cohesity_disk_config:
  metadata_disk_count: 2
  data_disk_count: 4
  metadata_fault_tolerance: 2
  data_fault_tolerance: 2

# License Configuration
cohesity_license_key: "{{ vault_cohesity_license }}"
cohesity_support_enabled: true
cohesity_phone_home_enabled: true

# Initial Admin Configuration
cohesity_admin_username: "admin"
cohesity_admin_password: "{{ vault_cohesity_admin_password }}"
cohesity_admin_email: "backup-admin@fourthestate.com"

# SMTP Configuration
cohesity_smtp_server: "smtp.fourthestate.com"
cohesity_smtp_port: 587
cohesity_smtp_username: "cohesity-alerts@fourthestate.com"
cohesity_smtp_password: "{{ vault_smtp_password }}"
cohesity_smtp_use_tls: true
cohesity_smtp_from_address: "cohesity-alerts@fourthestate.com"

# Encryption Configuration
cohesity_encryption_enabled: true
cohesity_encryption_key_rotation_days: 90
cohesity_fips_mode_enabled: true

# API Configuration
cohesity_api_protocol: "https"
cohesity_api_port: 443
cohesity_api_timeout: 300
cohesity_api_verify_ssl: true

# Cluster Bootstrap Configuration
cohesity_cluster_bootstrap_wait_time: 1800  # 30 minutes
cohesity_cluster_bootstrap_check_interval: 60  # 1 minute

# Storage Domain Configuration
cohesity_storage_domain_name: "DefaultStorageDomain"
cohesity_storage_domain_compression: true
cohesity_storage_domain_deduplication: true
cohesity_storage_domain_encryption: true

# Timezone Configuration
cohesity_timezone: "America/New_York"

# Fourth Estate Specific Settings
cohesity_organization_name: "Fourth Estate Media"
cohesity_deployment_purpose: "Critical data protection and ransomware recovery"
cohesity_compliance_mode: true
cohesity_air_gap_enabled: true
cohesity_immutable_snapshots: true

# Installation Settings
cohesity_installation_mode: "fresh"  # fresh, add_nodes, upgrade
cohesity_pre_checks_enabled: true
cohesity_post_checks_enabled: true
cohesity_backup_config_before_changes: true
