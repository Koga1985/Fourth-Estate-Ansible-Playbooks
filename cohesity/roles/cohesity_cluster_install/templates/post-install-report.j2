================================================================================
COHESITY CLUSTER INSTALLATION REPORT
================================================================================

Installation Date: {{ ansible_date_time.iso8601 }}
Deployment Type: {{ cohesity_deployment_type | upper }}

CLUSTER INFORMATION
--------------------------------------------------------------------------------
Cluster Name:           {{ cohesity_cluster_name }}
Cluster Domain:         {{ cohesity_cluster_domain }}
Cluster VIPs:           {{ cohesity_cluster_vips | join(', ') }}
Number of Nodes:        {{ cohesity_nodes | length }}
Storage Domain:         {{ cohesity_storage_domain_name }}

NODE CONFIGURATION
--------------------------------------------------------------------------------
{% for node in cohesity_nodes %}
Node {{ loop.index }}:
  Hostname:             {{ node.hostname }}
  IP Address:           {{ node.ip_address }}
  Node ID:              {{ node.node_id }}
{% endfor %}

NETWORK CONFIGURATION
--------------------------------------------------------------------------------
Gateway:                {{ cohesity_cluster_gateway }}
Subnet Mask:            {{ cohesity_cluster_subnet_mask }}
DNS Servers:            {{ cohesity_cluster_dns_servers | join(', ') }}
NTP Servers:            {{ cohesity_cluster_ntp_servers | join(', ') }}
Data VLAN:              {{ cohesity_network_config.data_vlan_id }}
Management VLAN:        {{ cohesity_network_config.management_vlan_id }}
MTU Size:               {{ cohesity_network_config.mtu_size }}

SECURITY CONFIGURATION
--------------------------------------------------------------------------------
Encryption at Rest:     {{ 'Enabled' if cohesity_encryption_enabled else 'Disabled' }}
FIPS Mode:              {{ 'Enabled' if cohesity_fips_mode_enabled else 'Disabled' }}
Audit Logging:          Enabled (365 days retention)
Key Rotation:           {{ cohesity_encryption_key_rotation_days }} days

STORAGE CONFIGURATION
--------------------------------------------------------------------------------
Compression:            {{ 'Enabled' if cohesity_storage_domain_compression else 'Disabled' }}
Deduplication:          {{ 'Enabled' if cohesity_storage_domain_deduplication else 'Disabled' }}
Metadata Fault Tolerance: {{ cohesity_disk_config.metadata_fault_tolerance }}
Data Fault Tolerance:   {{ cohesity_disk_config.data_fault_tolerance }}

SMTP CONFIGURATION
--------------------------------------------------------------------------------
SMTP Server:            {{ cohesity_smtp_server }}
SMTP Port:              {{ cohesity_smtp_port }}
From Address:           {{ cohesity_smtp_from_address }}
TLS Enabled:            {{ 'Yes' if cohesity_smtp_use_tls else 'No' }}

FOURTH ESTATE SPECIFIC
--------------------------------------------------------------------------------
Organization:           {{ cohesity_organization_name }}
Compliance Mode:        {{ 'Enabled' if cohesity_compliance_mode else 'Disabled' }}
Air Gap Protection:     {{ 'Enabled' if cohesity_air_gap_enabled else 'Disabled' }}
Immutable Snapshots:    {{ 'Enabled' if cohesity_immutable_snapshots else 'Disabled' }}
Purpose:                {{ cohesity_deployment_purpose }}

ACCESS INFORMATION
--------------------------------------------------------------------------------
Web Interface:          {{ cohesity_api_protocol }}://{{ cohesity_cluster_vips[0] }}
API Endpoint:           {{ cohesity_api_protocol }}://{{ cohesity_cluster_vips[0] }}/irisservices/api/v1/public
Admin Username:         {{ cohesity_admin_username }}
Admin Email:            {{ cohesity_admin_email }}

NEXT STEPS
--------------------------------------------------------------------------------
1. Configure Active Directory/LDAP integration
2. Create protection policies with DataLock for ransomware protection
3. Register protection sources (VMware, databases, file servers)
4. Configure replication to air-gapped site
5. Set up monitoring and alerting
6. Create protection jobs for critical systems
7. Test recovery procedures
8. Configure cloud tier for long-term archival

IMPORTANT NOTES
--------------------------------------------------------------------------------
- Change default admin password immediately
- Review and adjust firewall rules
- Configure backup for cluster configuration
- Document all custom settings
- Schedule regular DR drills
- Implement multi-factor authentication
- Review audit logs regularly

================================================================================
END OF REPORT
================================================================================
