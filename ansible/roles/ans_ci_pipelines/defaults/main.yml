---
# Common settings
apply_changes: false
artifacts_dir: "/tmp/ansible-artifacts"
validate_certs: true
repo_root: "."

# Controller connection
controller_host: "{{ lookup('env', 'CONTROLLER_HOST') | default('https://controller.example.mil') }}"
controller_oauthtoken: "{{ lookup('env', 'CONTROLLER_OAUTH_TOKEN') | default('') }}"
controller_username: "{{ lookup('env', 'CONTROLLER_USERNAME') | default('') }}"
controller_password: "{{ lookup('env', 'CONTROLLER_PASSWORD') | default('') }}"

# CI/CD Platform Selection
ci_platform: "gitlab"  # gitlab, github, jenkins, azure_devops

# GitLab CI Configuration
gitlab_ci_enabled: true
gitlab_url: "https://gitlab.example.mil"
gitlab_token: "{{ lookup('env', 'GITLAB_TOKEN') | default('') }}"
gitlab_project_path: "fourth-estate/ansible-automation"
gitlab_ci_stages:
  - lint
  - test
  - build
  - deploy
gitlab_ci_variables:
  ANSIBLE_FORCE_COLOR: "true"
  PY_COLORS: "1"
  ANSIBLE_HOST_KEY_CHECKING: "false"

# GitHub Actions Configuration
github_actions_enabled: false
github_url: "https://github.com"
github_token: "{{ lookup('env', 'GITHUB_TOKEN') | default('') }}"
github_org: "fourth-estate"
github_repo: "ansible-automation"
github_workflows_dir: ".github/workflows"

# Jenkins Configuration
jenkins_enabled: false
jenkins_url: "https://jenkins.example.mil"
jenkins_user: "ansible-ci"
jenkins_token: "{{ lookup('env', 'JENKINS_TOKEN') | default('') }}"
jenkins_jobs:
  - name: "ansible-lint"
    script_path: "ci/Jenkinsfile.lint"
  - name: "ansible-test"
    script_path: "ci/Jenkinsfile.test"
  - name: "ee-build"
    script_path: "ci/Jenkinsfile.ee-build"

# Azure DevOps Configuration
azure_devops_enabled: false
azure_devops_org: "fourth-estate"
azure_devops_project: "ansible-automation"
azure_devops_token: "{{ lookup('env', 'AZURE_DEVOPS_TOKEN') | default('') }}"

# CI Pipeline Configuration
ci_pipeline_lint_enabled: true
ci_pipeline_test_enabled: true
ci_pipeline_build_ee_enabled: true
ci_pipeline_deploy_enabled: false

# Linting Configuration
ansible_lint_config_path: ".ansible-lint"
ansible_lint_rules:
  - yaml
  - name
  - command-instead-of-module
  - no-changed-when
  - risky-file-permissions

# Testing Configuration
molecule_scenarios:
  - default
  - production
ansible_test_sanity: true
ansible_test_units: true
ansible_test_integration: false

# Build Configuration
ee_build_on_commit: false
ee_build_on_tag: true
ee_registry: "registry.example.mil"
ee_registry_username: "{{ lookup('env', 'REGISTRY_USERNAME') | default('') }}"
ee_registry_password: "{{ lookup('env', 'REGISTRY_PASSWORD') | default('') }}"

# Deployment Configuration
deploy_to_controller: true
deploy_on_main_branch: true
deploy_environments:
  - name: "development"
    controller_host: "https://dev-controller.example.mil"
  - name: "production"
    controller_host: "https://prod-controller.example.mil"
    requires_approval: true

# Notification Configuration
notifications_enabled: true
notification_channels:
  - type: "slack"
    webhook_url: "{{ lookup('env', 'SLACK_WEBHOOK') | default('') }}"
  - type: "email"
    recipients:
      - "ansible-team@example.mil"

# Fourth Estate Specific Settings
fourth_estate_content_signing: true
fourth_estate_compliance_checks: true
fourth_estate_audit_logging: true
