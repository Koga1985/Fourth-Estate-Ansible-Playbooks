---
# Common settings
apply_changes: false
artifacts_dir: "/tmp/ansible-artifacts"
validate_certs: true

# Controller connection
controller_host: "{{ lookup('env', 'CONTROLLER_HOST') | default('https://controller.example.mil') }}"
controller_oauthtoken: "{{ lookup('env', 'CONTROLLER_OAUTH_TOKEN') | default('') }}"
controller_username: "{{ lookup('env', 'CONTROLLER_USERNAME') | default('') }}"
controller_password: "{{ lookup('env', 'CONTROLLER_PASSWORD') | default('') }}"

# Backup Configuration
backup_enabled: true
backup_path: "{{ artifacts_dir }}/backups"
backup_filename: "controller_backup_{{ ansible_date_time.iso8601_basic_short }}.json"
backup_schedule: "daily"  # daily, weekly, monthly
backup_retention_days: 30
backup_compression: true
backup_encryption: false
backup_encryption_key: ""

# Backup Scope
backup_include_credentials: false  # Security: exclude by default
backup_include_inventory: true
backup_include_projects: true
backup_include_job_templates: true
backup_include_workflow_templates: true
backup_include_organizations: true
backup_include_teams: true
backup_include_users: true
backup_include_settings: true
backup_include_schedules: true
backup_include_notification_templates: true

# Disaster Recovery
dr_enabled: true
dr_remote_storage: "s3"  # s3, azure, gcs, nfs
dr_s3_bucket: "fourth-estate-ansible-backups"
dr_s3_region: "us-gov-west-1"
dr_s3_access_key: "{{ lookup('env', 'AWS_ACCESS_KEY_ID') | default('') }}"
dr_s3_secret_key: "{{ lookup('env', 'AWS_SECRET_ACCESS_KEY') | default('') }}"
dr_verify_backup: true
dr_test_restore: false

# Restore Configuration
restore_guard_org: "Sandbox"
restore_guard_enabled: true
restore_dry_run: true

# Audit Configuration
audit_enabled: true
audit_days: 7
audit_job_runs: true
audit_configuration_changes: true
audit_user_activity: true
audit_output_format: "json"  # json, csv, syslog
audit_syslog_server: "syslog.example.mil"
audit_syslog_port: 514

# Audit Retention
audit_retention_days: 90
audit_archive_enabled: true
audit_archive_path: "{{ artifacts_dir }}/audit_archives"

# Compliance Reporting
compliance_reports_enabled: true
compliance_standards:
  - "NIST-800-53"
  - "FedRAMP"
  - "SOC2"
compliance_report_schedule: "weekly"
compliance_recipients:
  - "compliance@example.mil"
  - "security@example.mil"

# Health Checks
health_check_enabled: true
health_check_database: true
health_check_redis: true
health_check_disk_space: true
health_check_disk_threshold: 80  # percent
health_check_notification: true

# Fourth Estate Specific
fourth_estate_audit_logging: true
fourth_estate_evidence_retention: 365  # days
fourth_estate_immutable_logs: true
