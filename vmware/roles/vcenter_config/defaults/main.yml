---
# defaults/main.yml - vCenter Server Configuration

# vCenter connection
vcenter_hostname: "vcsa.example.mil"
vcenter_username: "administrator@vsphere.local"
vcenter_password: ""
vcenter_validate_certs: false

# vCenter instance configuration
vcenter_server_name: "Production vCenter"
vcenter_instance_id: ""

# Database settings
vcenter_db_max_connections: 100
vcenter_task_retention_days: 30
vcenter_event_retention_days: 30

# Timeout settings (seconds)
vcenter_timeout_normal: 30
vcenter_timeout_long: 120

# Logging
vcenter_log_level: "info"  # verbose|info|warning|error

# NTP Configuration
vcenter_ntp_servers:
  - "time.nist.gov"
  - "time.google.com"

# DNS Configuration
vcenter_dns_servers:
  - "8.8.8.8"
  - "8.8.4.4"

# Mail/SMTP Configuration
vcenter_smtp_server: ""
vcenter_smtp_port: 25
vcenter_smtp_sender: "vcenter@example.mil"
vcenter_smtp_auth_enabled: false
vcenter_smtp_username: ""
vcenter_smtp_password: ""
vcenter_smtp_starttls: true

# Syslog Configuration
vcenter_syslog_server: ""
vcenter_syslog_port: 514
vcenter_syslog_protocol: "tcp"  # tcp|udp

# SNMP Configuration
vcenter_snmp_enabled: false
vcenter_snmp_syscontact: "admin@example.mil"
vcenter_snmp_syslocation: "Datacenter 1"
vcenter_snmp_communities: []
vcenter_snmp_users: []

# TLS/SSL Settings (STIG Compliance)
vcenter_tls_enforcement: true
vcenter_tls_min_version: "TLSv1.2"

# Session timeout (minutes) - STIG requirement
vcenter_session_timeout: 30

# Active Directory / LDAP Integration
vcenter_identity_sources: []
# Example:
# vcenter_identity_sources:
#   - domain: "example.mil"
#     alias: "EXAMPLE"
#     ldap_host: "dc1.example.mil"
#     ldap_port: 636
#     base_dn: "DC=example,DC=mil"
#     bind_user: "CN=vcenter-bind,OU=Service Accounts,DC=example,DC=mil"
#     bind_password: "{{ vault_ldap_bind_password }}"
#     ssl_enabled: true

# Fourth Estate Mode
fourth_estate_mode: false

# Fourth Estate Settings
fourth_estate_syslog_server: "syslog.example.mil"
fourth_estate_syslog_port: 6514
fourth_estate_syslog_protocol: "tcp"

fourth_estate_servicenow_enabled: false
fourth_estate_servicenow_url: ""
fourth_estate_servicenow_user: ""
fourth_estate_servicenow_password: ""
fourth_estate_servicenow_sync_interval: 3600

fourth_estate_evidence_datastore: "Evidence_Storage"
fourth_estate_disable_console: true
fourth_estate_disable_dcui: true

# Fourth Estate Custom Roles
fourth_estate_custom_roles:
  - name: "Fourth_Estate_Journalist"
    privileges:
      - "System.Anonymous"
      - "System.View"
      - "System.Read"
      - "VirtualMachine.Interact.PowerOn"
      - "VirtualMachine.Interact.PowerOff"
      - "VirtualMachine.Interact.Suspend"
      - "VirtualMachine.Interact.Reset"
  - name: "Fourth_Estate_Evidence_Admin"
    privileges:
      - "Datastore.Browse"
      - "Datastore.FileManagement"
      - "VirtualMachine.Inventory.Create"
      - "VirtualMachine.Config.AddExistingDisk"
      - "VirtualMachine.Provisioning.CloneTemplate"
  - name: "Fourth_Estate_CDN_Operator"
    privileges:
      - "Network.Assign"
      - "VirtualMachine.Interact.PowerOn"
      - "VirtualMachine.Config.EditDevice"

# Advanced vCenter Settings
vcenter_advanced_settings: []
# Example:
# vcenter_advanced_settings:
#   - key: "config.vpxd.sso.sts.uri"
#     value: "https://sso.example.mil:443/sso-adminserver"
