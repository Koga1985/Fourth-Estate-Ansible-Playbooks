{
    "__version": "2.13.0",
    "__comments": "vCenter Server Appliance deployment configuration - Generated by Ansible",
    "new_vcsa": {
        "esxi": {
            "hostname": "{{ esxi_deployment_host }}",
            "username": "{{ esxi_deployment_username }}",
            "password": "{{ esxi_deployment_password }}",
            "deployment_network": "{{ esxi_deployment_network }}",
            "datastore": "{{ esxi_deployment_datastore }}"
        },
        "appliance": {
            "__comments": [
                "Deployment size: {{ vcenter_deployment_size }}",
                "Storage size: {{ vcenter_storage_size }}"
            ],
            "thin_disk_mode": {{ vcenter_thin_disk_mode | lower }},
            "deployment_option": "{{ vcenter_deployment_size }}",
            "name": "{{ vcenter_hostname.split('.')[0] }}"
        },
        "network": {
            "ip_family": "ipv4",
            "mode": "{{ vcenter_network_mode }}",
{% if vcenter_network_mode == 'static' %}
            "system_name": "{{ vcenter_hostname }}",
            "ip": "{{ vcenter_ip_address }}",
            "prefix": "{{ vcenter_subnet_mask if '.' not in vcenter_subnet_mask else vcenter_subnet_mask | ipaddr('prefix') }}",
            "gateway": "{{ vcenter_gateway }}",
            "dns_servers": {{ vcenter_dns_servers | to_json }}
{% endif %}
        },
        "os": {
            "password": "{{ vcenter_root_password }}",
{% if vcenter_ssh_enable %}
            "ssh_enable": true,
{% else %}
            "ssh_enable": false,
{% endif %}
            "ntp_servers": {{ vcenter_ntp_servers | to_json if vcenter_time_sync_mode == 'ntp' else [] | to_json }}
        },
        "sso": {
            "password": "{{ vcenter_sso_password }}",
            "domain_name": "{{ vcenter_sso_domain }}",
            "site_name": "{{ vcenter_sso_site_name }}"
        }
    },
    "ceip": {
        "settings": {
            "ceip_enabled": {{ vcsa_ceip_enabled | lower }}
        }
    }
}
