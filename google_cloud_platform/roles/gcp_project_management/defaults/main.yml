---
# defaults file for gcp_project_management
# Fourth Estate GCP Project Management defaults

# Authentication
gcp_auth_kind: serviceaccount
gcp_service_account_file: "{{ lookup('env', 'GCP_SERVICE_ACCOUNT_FILE') | default(omit) }}"

# Project configuration
gcp_project_id: ""
gcp_project_name: ""
gcp_organization_id: ""
gcp_folder_id: ""
gcp_billing_account_id: ""

# Project labels for governance
gcp_project_labels:
  environment: "production"
  compliance: "fedramp-high"
  department: "fourth-estate"
  data_classification: "confidential"
  cost_center: "editorial"
  managed_by: "ansible"

# Required APIs for Fourth Estate operations
gcp_required_apis:
  - compute.googleapis.com
  - container.googleapis.com
  - cloudresourcemanager.googleapis.com
  - iam.googleapis.com
  - iamcredentials.googleapis.com
  - logging.googleapis.com
  - monitoring.googleapis.com
  - cloudbilling.googleapis.com
  - cloudkms.googleapis.com
  - secretmanager.googleapis.com
  - storage-api.googleapis.com
  - sqladmin.googleapis.com
  - servicenetworking.googleapis.com
  - cloudarmor.googleapis.com
  - securitycenter.googleapis.com
  - assuredworkloads.googleapis.com
  - dlp.googleapis.com
  - binaryauthorization.googleapis.com
  - containeranalysis.googleapis.com

# IAM bindings
gcp_project_iam_bindings: []
# Example:
# gcp_project_iam_bindings:
#   - role: roles/owner
#     members:
#       - serviceAccount:project-admin@example.iam.gserviceaccount.com
#   - role: roles/viewer
#     members:
#       - group:journalists@example.com

# Essential contacts for security notifications
gcp_essential_contacts:
  - email: "security@fourthestate.example"
    categories: ["SECURITY", "TECHNICAL"]
  - email: "legal@fourthestate.example"
    categories: ["LEGAL", "SUSPENSION"]
# Available categories: ALL, SUSPENSION, SECURITY, TECHNICAL, BILLING, LEGAL, PRODUCT_UPDATES

# Organization policies
gcp_enforce_org_policies: true
gcp_allowed_domains:
  - "C0xxxxxxx"  # Replace with your Cloud Identity customer ID
gcp_disable_sa_key_creation: true
gcp_restrict_public_ips: true
gcp_allowed_locations:
  - "in:us-locations"  # US only for data residency
  - "in:us-east1"
  - "in:us-east4"
  - "in:us-west1"
  - "in:us-central1"

# Deletion protection
gcp_enable_deletion_protection: true

# Budget alerts
gcp_enable_budget_alerts: true
gcp_budget_amount: 10000  # USD per month
gcp_budget_thresholds:
  - percent: 50
    basis: "current-spend"
  - percent: 75
    basis: "current-spend"
  - percent: 90
    basis: "current-spend"
  - percent: 100
    basis: "current-spend"
gcp_budget_notification_channels: []

# Assured Workloads for compliance
gcp_enable_assured_workloads: true
gcp_assured_workload_regime: "FEDRAMP_HIGH"  # Options: FEDRAMP_HIGH, FEDRAMP_MODERATE, CJIS, IL4
gcp_assured_workload_location: "us-east1"
gcp_enable_sovereign_controls: true
gcp_assured_workload_labels:
  compliance_framework: "fedramp-high"
  data_sovereignty: "us-only"

# VPC Service Controls
gcp_enable_vpc_service_controls: true
gcp_access_policy_name: "fourth-estate-access-policy"
gcp_access_level_name: "fourth-estate-staff-access"
gcp_perimeter_name: "fourth-estate-perimeter"
gcp_project_number: ""  # Will be populated after project creation

gcp_allowed_ip_ranges:
  - "10.0.0.0/8"  # Internal office network
  - "172.16.0.0/12"  # VPN ranges

gcp_allowed_members:
  - "user:admin@fourthestate.example"
  - "group:security-team@fourthestate.example"

gcp_allowed_regions:
  - "US"

gcp_restricted_services:
  - storage.googleapis.com
  - bigquery.googleapis.com
  - sqladmin.googleapis.com
  - compute.googleapis.com

gcp_vpc_allowed_services:
  - storage.googleapis.com
  - logging.googleapis.com
  - monitoring.googleapis.com

# Artifacts directory for metadata
gcp_artifacts_dir: "/tmp/gcp-artifacts"
