---
# ============================================================================
# [PLATFORM_NAME] - Example Variables
# ============================================================================
# Purpose: Template for customer-specific variable customization
#
# Instructions:
#   1. Copy this file: cp vars/example.yml vars/production.yml
#   2. Search for "CHANGE_THIS" and replace with your values
#   3. Encrypt sensitive variables using ansible-vault:
#      ansible-vault encrypt_string 'your-secret' --name 'vault_variable_name'
#   4. Validate configuration:
#      ansible-playbook playbooks/validate.yml -e "@vars/production.yml"
#   5. Deploy:
#      ansible-playbook playbooks/deploy.yml -e "@vars/production.yml"
#
# Variable Sections:
#   1. Organization Identity
#   2. Platform Connection
#   3. Installation Settings
#   4. Security Configuration
#   5. Fourth Estate Features
#   6. Compliance and Audit
#   7. Performance Tuning
#   8. Vault-Encrypted Secrets
# ============================================================================

# ============================================================================
# Section 1: Organization Identity (REQUIRED)
# ============================================================================

# Your organization/agency name
organization_name: "CHANGE_THIS"  # Example: "Department of Justice"

# Organization abbreviation (used in naming)
org_abbreviation: "CHANGE_THIS"  # Example: "DOJ"

# Organization domain
org_domain: "CHANGE_THIS"  # Example: "justice.gov"

# Environment designation
environment: "production"  # Options: development, staging, production

# ============================================================================
# Section 2: Platform Connection (REQUIRED)
# ============================================================================

# Platform primary hostname/IP
platform_hostname: "CHANGE_THIS"  # Example: "platform.agency.gov"

# Platform connection port
platform_port: 443

# Platform API endpoint (if different from hostname)
platform_api_endpoint: "https://{{ platform_hostname }}/api"

# Platform admin username
platform_username: "{{ vault_platform_username }}"  # Encrypted in Section 8

# Platform admin password
platform_password: "{{ vault_platform_password }}"  # Encrypted in Section 8

# Platform API key/token (if applicable)
platform_api_key: "{{ vault_platform_api_key }}"  # Encrypted in Section 8

# SSL/TLS certificate validation
platform_validate_certs: true

# Connection timeout (seconds)
platform_timeout: 60

# Connection retries
platform_retries: 3

# ============================================================================
# Section 3: Installation Settings
# ============================================================================

# Installation type
install_type: "full"  # Options: minimal, standard, full

# Installation base path
install_path: "/opt/platform"  # CHANGE_THIS if different

# Platform version to install
platform_version: "latest"  # Example: "2.5.0" or "latest"

# Installation method
install_method: "package"  # Options: package, binary, source, container

# Package repository URL (if using package install)
package_repo_url: "https://repo.platform.com/{{ ansible_distribution | lower }}"

# Create service user
create_service_user: true
service_user: "platform-svc"
service_group: "platform"

# Enable at boot
enable_at_boot: true

# ============================================================================
# Section 4: Security Configuration (REQUIRED for Fourth Estate)
# ============================================================================

# Encryption Settings
encryption_enabled: true
encryption_algorithm: "AES256"
encryption_key_size: 256

# TLS/SSL Configuration
tls_enabled: true
tls_min_version: "1.2"  # Options: "1.2", "1.3"
tls_ciphers:
  - "TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"
  - "TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"

# Certificate paths (if using custom certificates)
tls_cert_path: "/etc/pki/tls/certs/platform.crt"
tls_key_path: "/etc/pki/tls/private/platform.key"
tls_ca_path: "/etc/pki/tls/certs/ca-bundle.crt"

# Authentication
authentication_method: "ldap"  # Options: local, ldap, saml, oauth
multi_factor_enabled: true
password_complexity_required: true
password_min_length: 14

# LDAP Configuration (if using LDAP authentication)
ldap_server: "ldap.{{ org_domain }}"  # CHANGE_THIS
ldap_port: 636  # Use 636 for LDAPS
ldap_use_tls: true
ldap_base_dn: "dc=example,dc=gov"  # CHANGE_THIS
ldap_bind_dn: "cn=ansible-svc,ou=service-accounts,{{ ldap_base_dn }}"
ldap_bind_password: "{{ vault_ldap_bind_password }}"  # Encrypted in Section 8

# Authorization
rbac_enabled: true
default_user_role: "viewer"  # Options: admin, editor, viewer

# Network Security
firewall_enabled: true
allowed_ip_ranges:
  - "10.0.0.0/8"  # CHANGE_THIS: Your internal network
  - "192.168.1.0/24"  # CHANGE_THIS: Management network

# Restrict SSH access (if applicable)
ssh_port: 22
ssh_permit_root_login: false
ssh_password_authentication: false

# ============================================================================
# Section 5: Fourth Estate Features (OPTIONAL)
# ============================================================================

# Enable Fourth Estate specific features
fourth_estate_enabled: true

# Journalist source protection
journalist_source_protection: true
source_anonymization: true
metadata_scrubbing: true

# Data classification handling
data_classification_enabled: true
classification_levels:
  - "unclassified"
  - "confidential"
  - "secret"
default_classification: "confidential"

# Content moderation
content_filtering_enabled: true
pii_detection: true
pii_redaction: true

# Emergency response
emergency_mode_enabled: true
emergency_contacts:
  - email: "security@{{ org_domain }}"  # CHANGE_THIS
  - phone: "+1-555-0100"  # CHANGE_THIS

# Collaboration restrictions
restrict_external_sharing: true
require_approval_for_external: true

# ============================================================================
# Section 6: Compliance and Audit (REQUIRED for Fourth Estate)
# ============================================================================

# Compliance framework
compliance_mode: "nist_800_53"  # Options: nist_800_53, stig, fedramp_high, fedramp_moderate, cisa_bod

# Audit logging
audit_log_enabled: true
audit_log_path: "/var/log/platform/audit.log"
audit_log_retention_days: 730  # 2 years minimum for Fourth Estate
audit_log_max_size_mb: 1024
audit_log_rotation: true

# Log forwarding (to SIEM)
log_forwarding_enabled: true
syslog_server: "siem.{{ org_domain }}"  # CHANGE_THIS
syslog_port: 514
syslog_protocol: "tcp"  # Options: tcp, udp
syslog_tls_enabled: true

# Compliance reporting
compliance_reporting_enabled: true
compliance_report_frequency: "weekly"  # Options: daily, weekly, monthly
compliance_report_recipients:
  - "compliance@{{ org_domain }}"  # CHANGE_THIS
  - "security@{{ org_domain }}"  # CHANGE_THIS

# Vulnerability scanning
vulnerability_scanning_enabled: true
scan_frequency: "weekly"

# ============================================================================
# Section 7: Performance Tuning (OPTIONAL)
# ============================================================================

# Resource limits
max_connections: 1000
max_memory_mb: 8192
max_cpu_percent: 80

# Cache settings
cache_enabled: true
cache_size_mb: 2048
cache_ttl_seconds: 3600

# Database connection pool (if applicable)
db_pool_min_connections: 10
db_pool_max_connections: 100
db_connection_timeout: 30

# Background tasks
background_workers: 4
task_queue_size: 1000

# Monitoring
monitoring_enabled: true
health_check_interval: 60  # seconds
metrics_collection_enabled: true
metrics_endpoint: "/metrics"

# ============================================================================
# Section 8: Vault-Encrypted Secrets (REQUIRED)
# ============================================================================

# Instructions:
#   1. Generate encrypted values:
#      ansible-vault encrypt_string 'your-actual-username' --name 'vault_platform_username'
#   2. Copy the encrypted output below
#   3. Never commit unencrypted secrets to git

# Platform credentials
vault_platform_username: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          # CHANGE_THIS: Run the encrypt_string command and paste output here

vault_platform_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          # CHANGE_THIS: Run the encrypt_string command and paste output here

vault_platform_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          # CHANGE_THIS: Run the encrypt_string command and paste output here

# LDAP bind password (if using LDAP)
vault_ldap_bind_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          # CHANGE_THIS: Run the encrypt_string command and paste output here

# Database credentials (if applicable)
vault_db_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          # CHANGE_THIS: Run the encrypt_string command and paste output here

# TLS private key password (if key is encrypted)
vault_tls_key_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          # CHANGE_THIS: Run the encrypt_string command and paste output here

# ============================================================================
# Section 9: Custom Platform-Specific Variables
# ============================================================================

# Add platform-specific variables below this line
# Example:
# platform_custom_setting: "value"
# platform_feature_enabled: true
