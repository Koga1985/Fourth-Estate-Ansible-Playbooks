---
# tasks file for aws_eks_clusters

- name: Create EKS cluster
  community.aws.eks_cluster:
    name: "{{ eks_cluster_name }}"
    version: "{{ eks_version }}"
    role_arn: "{{ eks_role_arn }}"
    subnets: "{{ eks_subnet_ids }}"
    security_groups: "{{ eks_security_group_ids }}"
    region: "{{ eks_region }}"
    state: "{{ eks_state }}"
    tags: "{{ eks_tags }}"
  register: eks_result

- name: Display EKS cluster information
  ansible.builtin.debug:
    msg:
      - "EKS Cluster: {{ eks_cluster_name }}"
      - "Version: {{ eks_version }}"
      - "Endpoint: {{ eks_result.cluster.endpoint | default('N/A') }}"
