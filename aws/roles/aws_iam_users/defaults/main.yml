---
# defaults file for aws_iam_users

# IAM User Configuration
iam_user_state: "present"

# Default tags for all IAM users
iam_user_tags:
  ManagedBy: "Ansible"
  Environment: "{{ aws_environment | default('production') }}"
  Classification: "{{ data_classification | default('confidential') }}"
  Compliance: "FedRAMP-High"
  CostCenter: "{{ cost_center | default('IT-Security') }}"

# MFA enforcement
iam_enforce_mfa: true
iam_mfa_max_age_days: 90

# Permissions boundary for all users (FedRAMP requirement)
iam_user_permissions_boundary: "arn:{{ aws_partition | default('aws-us-gov') }}:iam::{{ aws_account_id }}:policy/FedRAMPUserBoundary"

# Access key rotation settings
iam_access_key_max_age_days: 90
iam_access_key_rotation_enabled: true

# Password policy requirements (FedRAMP High)
iam_password_min_length: 15
iam_password_require_uppercase: true
iam_password_require_lowercase: true
iam_password_require_numbers: true
iam_password_require_symbols: true
iam_password_max_age_days: 60
iam_password_reuse_prevention: 24
iam_password_hard_expiry: false

# Output directory for credentials (should be encrypted)
iam_user_keys_output_dir: "/tmp/iam_credentials"

# Example user list (override in inventory/playbook)
iam_users: []
#  - name: john.doe
#    console_access: true
#    programmatic_access: false
#    password: "ChangeMe123!@#"
#    password_reset_required: true
#    managed_policies:
#      - "arn:aws-us-gov:iam::aws:policy/ReadOnlyAccess"
#    groups:
#      - "developers"
#    permissions_boundary: "arn:aws-us-gov:iam::123456789012:policy/DeveloperBoundary"
#    tags:
#      Department: "Engineering"
#      Team: "Platform"
#    state: present
