---
# handlers file for fortigate_system_config

- name: Save FortiGate config
  fortinet.fortios.fortios_monitor_fact:
    vdom: "{{ fortigate_vdom }}"
    access_token: "{{ fortigate_api_token | default(omit) }}"
    selector: "system_config_backup"
    params:
      scope: "global"
  listen: Save FortiGate config

- name: Commit FortiGate configuration
  ansible.builtin.debug:
    msg: "FortiGate configuration changes committed successfully"
  listen: Save FortiGate config
