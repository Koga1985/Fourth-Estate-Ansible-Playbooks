---
# defaults file for fortigate_interfaces

# FortiGate connection parameters
fortigate_host: "{{ ansible_host }}"
fortigate_username: "{{ vault_fortigate_username | default('admin') }}"
fortigate_password: "{{ vault_fortigate_password }}"
fortigate_api_token: "{{ vault_fortigate_api_token | default('') }}"
fortigate_vdom: "root"
fortigate_https: true
fortigate_validate_certs: true

# Physical interfaces configuration
fortigate_physical_interfaces:
  - name: "port1"
    vdom: "root"
    mode: "static"
    ip: "{{ wan_primary_ip | default('203.0.113.10/24') }}"
    allowaccess: "ping https ssh snmp"
    type: "physical"
    role: "wan"
    description: "WAN Primary Interface"
    status: "up"
    alias: "WAN-Primary"
    speed: "auto"
    mtu: 1500
    mtu_override: "disable"
    estimated_upstream_bandwidth: 1000000
    estimated_downstream_bandwidth: 1000000
    explicit_web_proxy: "disable"
    explicit_ftp_proxy: "disable"
    monitor_bandwidth: "enable"
    snmp_index: 1
    secondary_IP: "disable"
    detectserver: ""
    detectprotocol: "ping"
    ha_priority: 1
    wccp: "disable"
    dns_server_override: "enable"
    ddns: "disable"
    fail_detect: "enable"
    fail_detect_option: "detectserver link"

  - name: "port2"
    vdom: "root"
    mode: "static"
    ip: "{{ lan_primary_ip | default('10.0.1.1/24') }}"
    allowaccess: "ping https ssh"
    type: "physical"
    role: "lan"
    description: "LAN Internal Interface"
    status: "up"
    alias: "LAN-Internal"
    speed: "auto"
    mtu: 1500
    mtu_override: "disable"
    estimated_upstream_bandwidth: 10000000
    estimated_downstream_bandwidth: 10000000
    explicit_web_proxy: "disable"
    explicit_ftp_proxy: "disable"
    monitor_bandwidth: "enable"
    snmp_index: 2
    secondary_IP: "disable"
    detectserver: ""
    detectprotocol: "ping"
    ha_priority: 1
    wccp: "disable"
    dns_server_override: "disable"
    dhcp_relay_service: "disable"
    device_identification: "enable"
    fail_detect: "enable"
    fail_detect_option: "link"

  - name: "port3"
    vdom: "root"
    mode: "static"
    ip: "{{ dmz_ip | default('10.0.100.1/24') }}"
    allowaccess: "ping"
    type: "physical"
    role: "dmz"
    description: "DMZ Interface"
    status: "up"
    alias: "DMZ"
    speed: "auto"
    mtu: 1500
    mtu_override: "disable"
    estimated_upstream_bandwidth: 1000000
    estimated_downstream_bandwidth: 1000000
    explicit_web_proxy: "disable"
    explicit_ftp_proxy: "disable"
    monitor_bandwidth: "enable"
    snmp_index: 3
    secondary_IP: "disable"
    detectserver: ""
    detectprotocol: "ping"
    ha_priority: 1
    wccp: "disable"
    dns_server_override: "disable"
    fail_detect: "enable"
    fail_detect_option: "link"

  - name: "port4"
    vdom: "root"
    mode: "static"
    ip: "0.0.0.0/0"
    allowaccess: "ping"
    type: "physical"
    role: "undefined"
    description: "Available Interface"
    status: "down"
    alias: "Port4"
    speed: "auto"
    mtu: 1500
    snmp_index: 4

# VLAN interfaces
fortigate_vlan_interfaces:
  - name: "vlan10"
    vdom: "root"
    vlanid: 10
    interface: "port2"
    mode: "static"
    ip: "10.0.10.1/24"
    allowaccess: "ping"
    type: "vlan"
    role: "lan"
    description: "Server VLAN"
    status: "up"
    alias: "Servers"
    device_identification: "enable"
    dhcp_relay_service: "disable"

  - name: "vlan20"
    vdom: "root"
    vlanid: 20
    interface: "port2"
    mode: "static"
    ip: "10.0.20.1/24"
    allowaccess: "ping"
    type: "vlan"
    role: "lan"
    description: "Workstation VLAN"
    status: "up"
    alias: "Workstations"
    device_identification: "enable"
    dhcp_relay_service: "disable"

  - name: "vlan30"
    vdom: "root"
    vlanid: 30
    interface: "port2"
    mode: "static"
    ip: "10.0.30.1/24"
    allowaccess: "ping"
    type: "vlan"
    role: "lan"
    description: "VoIP VLAN"
    status: "up"
    alias: "VoIP"
    device_identification: "enable"
    dhcp_relay_service: "enable"
    dhcp_relay_ip: "{{ dhcp_server | default('10.0.1.10') }}"

  - name: "vlan40"
    vdom: "root"
    vlanid: 40
    interface: "port2"
    mode: "static"
    ip: "10.0.40.1/24"
    allowaccess: "ping"
    type: "vlan"
    role: "lan"
    description: "Guest VLAN"
    status: "up"
    alias: "Guest-Network"
    device_identification: "enable"

# Loopback interfaces
fortigate_loopback_interfaces:
  - name: "loopback0"
    vdom: "root"
    mode: "static"
    ip: "{{ loopback_ip | default('192.168.255.1/32') }}"
    allowaccess: ""
    type: "loopback"
    description: "Management Loopback"
    status: "up"
    alias: "Loopback0"

# Link aggregation (LAG) interfaces
fortigate_lag_interfaces: []
# Example:
#  - name: "lag1"
#    vdom: "root"
#    mode: "static"
#    ip: "10.0.2.1/24"
#    type: "aggregate"
#    member:
#      - interface_name: "port5"
#      - interface_name: "port6"
#    lacp_mode: "active"
#    lacp_speed: "slow"
#    min_links: 1
#    min_links_down: "operational"
#    description: "Link Aggregation Group 1"
#    algorithm: "L3"
#    fail_detect: "enable"
#    fail_detect_option: "link"

# DHCP server configuration for interfaces
fortigate_dhcp_servers:
  - interface: "vlan20"
    status: "enable"
    dns_service: "local"
    dns_server1: "{{ dns_primary | default('10.0.1.10') }}"
    dns_server2: "{{ dns_secondary | default('10.0.1.11') }}"
    dns_server3: "0.0.0.0"
    ntp_service: "local"
    ntp_server1: "{{ ntp_primary | default('10.0.1.10') }}"
    ntp_server2: "{{ ntp_secondary | default('10.0.1.11') }}"
    ntp_server3: "0.0.0.0"
    default_gateway: "10.0.20.1"
    netmask: "255.255.255.0"
    start_ip: "10.0.20.50"
    end_ip: "10.0.20.200"
    lease_time: 86400
    timezone_option: "enable"
    timezone: "85"
    tftp_server: []
    filename: ""
    options: []
    server_type: "regular"
    ip_mode: "range"
    conflicted_ip_timeout: 1800
    vci_match: "disable"
    auto_configuration: "disable"

  - interface: "vlan40"
    status: "enable"
    dns_service: "local"
    dns_server1: "{{ dns_primary | default('10.0.1.10') }}"
    dns_server2: "{{ dns_secondary | default('10.0.1.11') }}"
    dns_server3: "0.0.0.0"
    ntp_service: "local"
    ntp_server1: "{{ ntp_primary | default('10.0.1.10') }}"
    ntp_server2: "0.0.0.0"
    ntp_server3: "0.0.0.0"
    default_gateway: "10.0.40.1"
    netmask: "255.255.255.0"
    start_ip: "10.0.40.50"
    end_ip: "10.0.40.200"
    lease_time: 3600
    timezone_option: "enable"
    timezone: "85"
    server_type: "regular"
    ip_mode: "range"
    conflicted_ip_timeout: 1800
    vci_match: "disable"
    auto_configuration: "disable"

# Interface zones configuration
fortigate_zones:
  - name: "WAN-Zone"
    tagging: []
    description: "WAN Zone"
    intrazone: "deny"
    interface:
      - interface_name: "port1"

  - name: "LAN-Zone"
    tagging: []
    description: "LAN Zone"
    intrazone: "allow"
    interface:
      - interface_name: "port2"
      - interface_name: "vlan10"
      - interface_name: "vlan20"
      - interface_name: "vlan30"

  - name: "DMZ-Zone"
    tagging: []
    description: "DMZ Zone"
    intrazone: "deny"
    interface:
      - interface_name: "port3"

  - name: "Guest-Zone"
    tagging: []
    description: "Guest Network Zone"
    intrazone: "deny"
    interface:
      - interface_name: "vlan40"

# IPv6 configuration
fortigate_ipv6_enabled: false
fortigate_ipv6_interfaces: []
# Example:
#  - name: "port1"
#    ip6_mode: "static"
#    ip6_address: "2001:db8:1::1/64"
#    ip6_allowaccess: "ping https ssh"
#    ip6_send_adv: "enable"
#    ip6_manage_flag: "enable"
#    ip6_other_flag: "enable"
#    ip6_dns_server_override: "enable"
#    ip6_prefix_list:
#      - prefix: "2001:db8:1::/64"
#        autonomous_flag: "enable"
#        onlink_flag: "enable"
#        valid_life_time: 2592000
#        preferred_life_time: 604800

# Secondary IP addresses
fortigate_secondary_ips: []
# Example:
#  - interface: "port1"
#    id: 1
#    ip: "203.0.113.11/24"
#    allowaccess: "ping"
#    detectserver: ""
#    detectprotocol: "ping"
#    ha_priority: 1

# Interface monitoring
fortigate_interface_monitoring:
  bandwidth_measure_time: 60
  log_interface_stat: "enable"

# MAC address override
fortigate_mac_override: []
# Example:
#  - interface: "port1"
#    macaddr: "00:09:0F:AA:BB:CC"

# BFD (Bidirectional Forwarding Detection) on interfaces
fortigate_bfd_interfaces: []
# Example:
#  - interface: "port1"
#    local_gw: "203.0.113.10"
#    remote_gw: "203.0.113.1"
#    interval: 100
#    multiplier: 3

# Interface policy configuration
fortigate_interface_policy: []
# Example:
#  - policyid: 1
#    interface: "port2"
#    status: "enable"
#    comments: "QoS Policy for Voice Traffic"
#    logtraffic: "all"
#    srcaddr:
#      - name: "vlan30-subnet"
#    dstaddr:
#      - name: "all"
#    service:
#      - name: "SIP"
#      - name: "RTP"
#    application_list: ""
#    shaping_profile: "voice-shaping"

# Speed and duplex settings
fortigate_speed_duplex_settings:
  auto_negotiate: true  # Set to false for manual configuration
  # Manual settings (used when auto_negotiate is false)
  # speed: "1000full"  # Options: 10half, 10full, 100half, 100full, 1000full, 10000full

# MTU settings per interface type
fortigate_mtu_settings:
  wan: 1500
  lan: 1500
  dmz: 1500
  vlan: 1500
  jumbo_frames: false  # Set to true to enable jumbo frames (MTU 9000)

# LLDP configuration
fortigate_lldp_enabled: true
fortigate_lldp_network_policy: []
# Example:
#  - name: "voice-policy"
#    vlan: 30
#    priority: 5
#    dscp: 46
#    comment: "Voice VLAN policy"

# sFlow configuration
fortigate_sflow_enabled: false
fortigate_sflow_collectors: []
# Example:
#  - collector_ip: "10.200.0.100"
#    collector_port: 6343
#    source_ip: "10.0.1.1"
#    interface_select_method: "auto"

# NetFlow configuration
fortigate_netflow_enabled: false
fortigate_netflow_collectors: []
# Example:
#  - ip: "10.200.0.101"
#    port: 2055
#    source_ip: "10.0.1.1"
#    template_tx_timeout: 1800
#    template_tx_counter: 20

# Preserve interface settings on role application
fortigate_preserve_existing: false

# WCCP (Web Cache Communication Protocol)
fortigate_wccp_enabled: false

# Explicit proxy settings
fortigate_explicit_proxy: false

# Device identification
fortigate_device_identification: true
