---
# F5 BIG-IP System Configuration - Default Variables
# Fourth Estate Production Standards

# F5 BIG-IP Connection Details
f5_bigip_provider:
  server: "{{ f5_bigip_host | default(ansible_host) }}"
  user: "{{ f5_bigip_username | default('admin') }}"
  password: "{{ f5_bigip_password }}"
  server_port: "{{ f5_bigip_port | default(443) }}"
  validate_certs: "{{ f5_bigip_validate_certs | default(true) }}"
  transport: rest

# System Identification
f5_bigip_hostname: "{{ inventory_hostname_short }}"
f5_bigip_domain: "agency.gov"
f5_bigip_description: "F5 BIG-IP Load Balancer - Fourth Estate"
f5_bigip_contact: "netops@agency.gov"
f5_bigip_location: "Data Center 1"

# Time Configuration
f5_bigip_timezone: "America/New_York"
f5_bigip_ntp_servers:
  - 132.163.96.1    # NIST Boulder
  - 132.163.96.2    # NIST Boulder
  - 132.163.96.3    # NIST Boulder
  - 129.6.15.28     # NIST Gaithersburg

# DNS Configuration
f5_bigip_dns_nameservers:
  - 8.8.8.8
  - 8.8.4.4
f5_bigip_dns_search_domains:
  - agency.gov
  - internal.agency.gov

# SNMP Configuration (SNMPv3 for security)
f5_bigip_snmp_enabled: true
f5_bigip_snmp_v3_enabled: true
f5_bigip_snmp_location: "{{ f5_bigip_location }}"
f5_bigip_snmp_contact: "{{ f5_bigip_contact }}"
f5_bigip_snmp_allowed_addresses:
  - 10.0.0.0/8
f5_bigip_snmp_v3_users:
  - name: snmpv3user
    auth_protocol: sha
    auth_password: "{{ vault_f5_snmp_auth_password }}"
    privacy_protocol: aes
    privacy_password: "{{ vault_f5_snmp_priv_password }}"
    access: ro

# Syslog Configuration
f5_bigip_syslog_enabled: true
f5_bigip_syslog_servers:
  - host: syslog.agency.gov
    port: 514
    protocol: udp
  - host: siem.agency.gov
    port: 6514
    protocol: tcp

# Audit Logging
f5_bigip_audit_log_enabled: true
f5_bigip_audit_remote_servers:
  - siem.agency.gov

# SSH Configuration (Hardening)
f5_bigip_ssh_enabled: true
f5_bigip_ssh_port: 22
f5_bigip_ssh_access_addresses:
  - 10.0.0.0/8
f5_bigip_ssh_banner: "Authorized access only. All activity monitored."
f5_bigip_ssh_timeout: 300

# HTTP/HTTPS Management Access
f5_bigip_httpd_enabled: true
f5_bigip_httpd_ssl_port: 443
f5_bigip_httpd_redirect_http_to_https: true
f5_bigip_httpd_allow_addresses:
  - 10.0.0.0/8
f5_bigip_httpd_ssl_protocol: "all -SSLv2 -SSLv3 -TLSv1 -TLSv1.1"
f5_bigip_httpd_ssl_ciphersuite: "DEFAULT:!aNULL:!eNULL:!LOW:!RC4:!MD5:!EXP"

# Password Policy (DISA STIG Compliant)
f5_bigip_password_policy:
  min_length: 15
  required_lowercase: 1
  required_uppercase: 1
  required_numeric: 1
  required_special: 1
  max_age: 60
  min_age: 1
  history: 24
  max_login_failures: 3
  lockout_duration: 900

# Admin User Settings
f5_bigip_admin_users: []
# Example:
# f5_bigip_admin_users:
#   - username: admin2
#     password: "{{ vault_f5_admin2_password }}"
#     partition_access:
#       - partition: all-partitions
#         role: admin
#     shell: bash

# License Management
f5_bigip_license_key: "{{ vault_f5_license_key | default(omit) }}"
f5_bigip_license_check: true

# GUI Security Settings
f5_bigip_gui_security_banner: true
f5_bigip_gui_security_banner_text: |
  ***********************************************************************
  * WARNING - Fourth Estate Information System                          *
  * Authorized users only. Unauthorized access prohibited.              *
  * All activities are monitored and logged.                            *
  * Violators will be prosecuted to the fullest extent of the law.     *
  ***********************************************************************

# Software Updates
f5_bigip_auto_check_updates: false
f5_bigip_auto_phonehome: false

# Database Encryption
f5_bigip_database_encryption_enabled: true

# FIPS Mode
f5_bigip_fips_enabled: false  # Enable if hardware supports

# Interface Settings
f5_bigip_management_interface: "mgmt"
f5_bigip_management_mtu: 1500

# System Performance
f5_bigip_db_variables:
  - name: provision.extramb
    value: 500
  - name: connection.vlankeyed
    value: enable

# Save Configuration
f5_bigip_save_config: true
