# Splunk Indexer Peer Configuration
# Fourth Estate Production Environment

[general]
serverName = {{ ansible_hostname }}
site = {{ splunk_cluster_site | default('site0') }}

[clustering]
mode = peer
master_uri = {{ splunk_cluster_master_uri }}
pass4SymmKey = {{ splunk_cluster_secret }}
{% if splunk_multisite_clustering | bool %}
site = {{ splunk_cluster_site }}
{% endif %}

[replication_port://{{ splunk_replication_port }}]
acceptFrom = {{ splunk_cluster_peer_networks | join(',') }}
compress = true

[replication_port-ssl://{{ splunk_replication_port }}]
serverCert = $SPLUNK_HOME/etc/auth/mycerts/{{ splunk_server_cert | basename }}
requireClientCert = false
compressed = true

[license]
master_uri = {{ splunk_cluster_master_uri }}
