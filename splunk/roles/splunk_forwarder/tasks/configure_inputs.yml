---
# Configure data inputs

- name: Configure monitored paths
  ansible.builtin.blockinfile:
    path: "{{ splunk_forwarder_home }}/etc/system/local/inputs.conf"
    block: |
      {% for path in splunk_monitor_paths %}
      [monitor://{{ path }}]
      disabled = false
      index = main
      sourcetype = syslog
      {% endfor %}
    create: yes
