---
# defaults file for splunk_backup_dr
# Backup and Disaster Recovery Configuration

splunk_home: "/opt/splunk"
splunk_user: "splunk"
splunk_admin_password: "{{ vault_splunk_admin_password }}"

# Backup Configuration (NIST 800-53 CP-9)
backup_enabled: true
backup_path: "/backup/splunk"
backup_retention_days: 90
backup_schedule: "0 2 * * 0"  # Weekly at 2 AM Sunday

# Backup Components
backup_include_etc: true
backup_include_var: true
backup_include_indexes: false  # Too large, use snapshot
backup_include_kvstore: true

# Encryption (STIG requirement)
backup_encryption_enabled: true
backup_encryption_key: "{{ vault_backup_encryption_key }}"

# Disaster Recovery
dr_enabled: true
dr_remote_site: "{{ vault_dr_site | default('') }}"
dr_replication_enabled: false
dr_test_schedule: "quarterly"

# Archive Settings
archive_enabled: true
archive_path: "/archive/splunk"
archive_compression: "gzip"
archive_retention_years: 7  # Compliance requirement
