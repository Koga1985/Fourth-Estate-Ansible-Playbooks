---
# SL1 Platform Installation Configuration

# Installation Mode
sl1_install_mode: "all_in_one"  # all_in_one, database_server, message_collector, data_collector

# SL1 Software Package
sl1_package_path: "/tmp/sl1_installer.bin"
sl1_version: "12.2.0"
sl1_license_file: "/tmp/sl1_license.lic"

# Database Server Configuration
sl1_db_server:
  install: true
  hostname: "sl1-db01.example.com"
  ip_address: "10.0.1.10"
  root_password: "{{ vault_sl1_db_root_password }}"
  cluster_enabled: false
  cluster_vip: "10.0.1.15"
  cluster_nodes:
    - "10.0.1.10"
    - "10.0.1.11"

# All-In-One Appliance Configuration
sl1_aio:
  install: true
  hostname: "sl1.example.com"
  ip_address: "10.0.1.20"
  netmask: "255.255.255.0"
  gateway: "10.0.1.1"
  dns_servers:
    - "10.0.1.2"
    - "10.0.1.3"
  ntp_servers:
    - "10.0.1.4"

# Message Collector Configuration
sl1_message_collectors:
  - name: "mc01"
    hostname: "sl1-mc01.example.com"
    ip_address: "10.0.2.10"
    install: false
  - name: "mc02"
    hostname: "sl1-mc02.example.com"
    ip_address: "10.0.2.11"
    install: false

# Data Collector Configuration
sl1_data_collectors:
  - name: "dc01"
    hostname: "sl1-dc01.example.com"
    ip_address: "10.0.3.10"
    region: "us-east-1"
    install: false
  - name: "dc02"
    hostname: "sl1-dc02.example.com"
    ip_address: "10.0.3.11"
    region: "us-west-1"
    install: false

# Network Configuration
sl1_network:
  configure: true
  interface: "eth0"
  mtu: 1500
  firewall_enabled: true
  allowed_ips:
    - "10.0.0.0/8"
    - "172.16.0.0/12"

# SSL/TLS Configuration
sl1_ssl:
  enabled: true
  certificate_path: "/etc/ssl/certs/sl1.crt"
  private_key_path: "/etc/ssl/private/sl1.key"
  ca_bundle_path: "/etc/ssl/certs/ca-bundle.crt"
  tls_version: "1.2"  # 1.2 or 1.3

# High Availability Configuration
sl1_ha:
  enabled: false
  master: "sl1-master.example.com"
  standby: "sl1-standby.example.com"
  vip: "10.0.1.50"
  heartbeat_interface: "eth1"
  shared_storage: "/mnt/sl1-shared"

# Database Cluster Configuration
sl1_db_cluster:
  enabled: false
  cluster_name: "sl1-db-cluster"
  nodes:
    - hostname: "sl1-db01.example.com"
      ip: "10.0.1.10"
      priority: 100
    - hostname: "sl1-db02.example.com"
      ip: "10.0.1.11"
      priority: 90
  vip: "10.0.1.15"
  replication_user: "replicator"
  replication_password: "{{ vault_sl1_db_replication_password }}"

# Initial Setup Wizard Configuration
sl1_setup_wizard:
  run: true
  admin_user: "em7admin"
  admin_password: "{{ vault_sl1_admin_password }}"
  admin_email: "sl1-admin@example.com"
  organization: "Fourth Estate"
  timezone: "America/New_York"
  locale: "en_US"

# License Configuration
sl1_license:
  activate: true
  license_key: "{{ vault_sl1_license_key }}"
  license_file: "/tmp/sl1_license.lic"

# System Configuration
sl1_system:
  java_heap_size: "8G"
  mysql_innodb_buffer_pool_size: "16G"
  elasticsearch_heap_size: "4G"
  max_open_files: 65536
  vm_max_map_count: 262144

# Installation Options
sl1_install_options:
  unattended: true
  accept_eula: true
  enable_remote_access: true
  configure_selinux: true
  install_prerequisites: true

# Post-Installation Tasks
sl1_post_install:
  restart_services: true
  run_healthcheck: true
  configure_backup: true
  enable_monitoring: true

# Service Configuration
sl1_services:
  - name: "sl1_em7"
    enabled: true
    state: "started"
  - name: "sl1_mysql"
    enabled: true
    state: "started"
  - name: "sl1_memcached"
    enabled: true
    state: "started"
  - name: "sl1_elasticsearch"
    enabled: true
    state: "started"

# Fourth Estate Specific Configuration
fourth_estate:
  environment: "production"  # production, staging, development
  deployment_type: "on_premise"  # on_premise, cloud, hybrid
  compliance_mode: true
  audit_logging: true
  fips_mode: false
  multi_tenancy: true

# Artifacts and Logging
artifacts_dir: "/tmp/sl1-install-artifacts"
log_level: "info"  # debug, info, warn, error
dry_run: false
