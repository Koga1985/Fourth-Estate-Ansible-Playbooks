---
# defaults file for illumio_pce_install

# PCE Version and Installation
illumio_pce_version: "22.5.0"
illumio_pce_package_file: "illumio-pce-{{ illumio_pce_version }}.tar.gz"
illumio_pce_package_url: "https://repo.illum.io/downloads/{{ illumio_pce_package_file }}"
illumio_pce_package_local_path: ""
illumio_pce_online_install: true
illumio_pce_cleanup_install_files: true

# System Requirements
illumio_pce_min_cpu: 8
illumio_pce_min_memory_mb: 16384
illumio_pce_min_disk_gb: 500

# System Configuration
illumio_pce_user: illumio-pce
illumio_pce_group: illumio-pce
illumio_pce_data_dir: /var/lib/illumio-pce
illumio_pce_config_dir: /etc/illumio-pce
illumio_pce_cert_dir: /etc/illumio-pce/certs

# Network Configuration
illumio_pce_fqdn: "{{ ansible_fqdn }}"
illumio_pce_port: 8443
illumio_pce_required_ports:
  - 8443
  - 8444
  - 8445
  - 8446
  - 443

# Firewall Configuration
illumio_pce_use_iptables: false
illumio_pce_firewall_rules: []

# Database Configuration
illumio_pce_install_database: true
illumio_pce_database_host: localhost
illumio_pce_database_port: 5432
illumio_pce_database_name: illumio_pce
illumio_pce_database_user: illumio_pce
illumio_pce_database_password: "{{ vault_illumio_pce_database_password | default('ChangeMe123!') }}"
illumio_pce_postgresql_version: 13
illumio_pce_postgresql_repo_url: "https://download.postgresql.org/pub/repos/yum/reporpms/EL-{{ ansible_distribution_major_version }}-x86_64/pgdg-redhat-repo-latest.noarch.rpm"
illumio_pce_postgresql_data_dir: "/var/lib/pgsql/{{ illumio_pce_postgresql_version }}/data"

# Database Backup
illumio_pce_enable_db_backup: true
illumio_pce_database_backup_dir: /var/backups/illumio-pce
illumio_pce_backup_hour: 2
illumio_pce_backup_retention_days: 30
illumio_pce_use_pgbouncer: false

# Cluster Configuration (High Availability)
illumio_pce_cluster_mode: false
illumio_pce_cluster_nodes: []
illumio_pce_cluster_vip: ""

# SSL/TLS Configuration
illumio_pce_ssl_cert_file: ""
illumio_pce_ssl_key_file: ""
illumio_pce_ssl_ca_file: ""
illumio_pce_generate_selfsigned_cert: true
illumio_pce_cert_country: "US"
illumio_pce_cert_state: "DC"
illumio_pce_cert_locality: "Washington"

# Load Balancer
illumio_pce_use_loadbalancer: false
illumio_pce_loadbalancer_vip: ""

# PCE Admin Configuration
illumio_pce_superuser: "admin@illumio.com"
illumio_pce_superuser_password: "{{ vault_illumio_pce_superuser_password | default('ChangeMe123!') }}"
illumio_pce_admin_user: "pce_admin"
illumio_pce_admin_password: "{{ vault_illumio_pce_admin_password | default('ChangeMe123!') }}"
illumio_pce_admin_fullname: "PCE Administrator"
illumio_pce_admin_email: ""
illumio_pce_generate_api_key: true

# Organization Configuration
illumio_pce_org_name: "Fourth Estate"
illumio_pce_org_description: "Fourth Estate Zero Trust Microsegmentation"

# License Configuration
illumio_pce_license_file: ""

# SELinux Configuration
illumio_pce_selinux_enforcing: false

# Repository Configuration
illumio_pce_repo_url: "https://repo.illum.io"

# System Packages
illumio_pce_system_packages:
  - curl
  - wget
  - tar
  - openssl
  - python3
  - python3-pip
  - policycoreutils
  - net-tools
  - bind-utils
  - tcpdump
  - vim
  - htop
  - iotop
  - sysstat
