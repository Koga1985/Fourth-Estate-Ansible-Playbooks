---
# Pure Storage FlashArray Host Handlers

- name: refresh host inventory
  purefa_info:
    fa_url: "{{ flasharray_url }}"
    api_token: "{{ flasharray_api_token }}"
    gather_subset:
      - hosts
  register: host_inventory

- name: verify host connectivity
  ansible.builtin.debug:
    msg: "Host {{ item.name }} created - verify multipath connectivity on host"

- name: rescan storage on host
  ansible.builtin.debug:
    msg: "Volume mapped - rescan storage on host to detect new LUNs"

- name: update host documentation
  ansible.builtin.debug:
    msg: "Host configuration updated - update documentation"

- name: notify monitoring
  ansible.builtin.debug:
    msg: "Host configuration changed - update monitoring configuration"
