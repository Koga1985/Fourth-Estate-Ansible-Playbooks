---
# Pure Storage FlashArray Host Management Defaults

# Array connection
flasharray_url: "https://{{ inventory_hostname }}"
# flasharray_api_token: defined in vault

# Host objects
# flasharray_hosts:
#   - name: "linux-server-01"
#     personality: "linux"
#     iqn: "iqn.1994-05.com.redhat:linux-server-01"
#   - name: "esxi-host-01"
#     personality: "esxi"
#     iqn: "iqn.1998-01.com.vmware:esxi-host-01"

# Host groups
# flasharray_host_groups:
#   - name: "vmware-cluster-prod"
#   - name: "k8s-cluster-prod"
#   - name: "oracle-rac-cluster"

# Host group membership
# flasharray_hg_members:
#   - hg_name: "vmware-cluster-prod"
#     host_name: "esxi-host-01"
#   - hg_name: "vmware-cluster-prod"
#     host_name: "esxi-host-02"

# iSCSI hosts with IQN
# flasharray_iscsi_hosts:
#   - name: "linux-iscsi-01"
#     iqn: "iqn.1994-05.com.redhat:linux-iscsi-01"
#     personality: "linux"
#   - name: "windows-iscsi-01"
#     iqn: "iqn.1991-05.com.microsoft:windows-iscsi-01"
#     personality: "windows"

# Fibre Channel hosts with WWNs
# flasharray_fc_hosts:
#   - name: "linux-fc-01"
#     wwns:
#       - "50:06:0B:00:00:C2:62:34"
#       - "50:06:0B:00:00:C2:62:35"
#     personality: "linux"
#   - name: "esxi-fc-01"
#     wwns:
#       - "21:00:00:24:FF:5C:8A:C0"
#       - "21:00:00:24:FF:5C:8A:C1"
#     personality: "esxi"

# NVMe-oF hosts with NQN
# flasharray_nvme_hosts:
#   - name: "linux-nvme-01"
#     nqn: "nqn.2014-08.org.nvmexpress:uuid:12345678-1234-1234-1234-123456789012"
#     personality: "linux"

# ESXi hosts
# flasharray_esxi_hosts:
#   - name: "esxi01.example.com"
#     iqn: "iqn.1998-01.com.vmware:esxi01"
#   - name: "esxi02.example.com"
#     wwns:
#       - "21:00:00:24:FF:5C:8A:C0"
#       - "21:00:00:24:FF:5C:8A:C1"

# Windows hosts
# flasharray_windows_hosts:
#   - name: "win-sql-01"
#     iqn: "iqn.1991-05.com.microsoft:win-sql-01"
#   - name: "win-app-01"
#     wwns:
#       - "50:06:0B:00:00:C2:62:40"
#       - "50:06:0B:00:00:C2:62:41"

# iSCSI CHAP authentication
# flasharray_iscsi_chap_hosts:
#   - name: "secure-host-01"
#     iqn: "iqn.1994-05.com.redhat:secure-host-01"
#     chap_user: "chap_user_01"
#     chap_password: "{{ chap_password_01 }}"  # in vault

# Volume to host mappings
# flasharray_host_volumes:
#   - host: "linux-server-01"
#     volume: "vol-data-01"
#     lun: 1
#   - host: "esxi-host-01"
#     volume: "vol-vmfs-01"
#     lun: 0

# Volume to host group mappings
# flasharray_hostgroup_volumes:
#   - hostgroup: "vmware-cluster-prod"
#     volume: "vol-shared-vmfs-01"
#     lun: 10
#   - hostgroup: "oracle-rac-cluster"
#     volume: "vol-oracle-data-01"
#     lun: 0

# Preferred arrays (for ActiveCluster)
# flasharray_host_preferred_arrays:
#   - name: "esxi-host-01"
#     preferred_array: "flasharray-dc1"

# Volume disconnections
# flasharray_disconnect_volumes:
#   - host: "old-server-01"
#     volume: "vol-data-old"

# Hosts to delete
# flasharray_hosts_to_delete:
#   - "decommissioned-host-01"
#   - "old-test-host"

# VMware cluster
# flasharray_vmware_cluster_name: "vmware-cluster-prod"

# Kubernetes cluster
# flasharray_k8s_cluster_name: "k8s-prod-cluster"

# Host personality defaults
flasharray_default_linux_personality: "linux"
flasharray_default_esxi_personality: "esxi"
flasharray_default_windows_personality: "windows"
flasharray_default_aix_personality: "aix"
flasharray_default_solaris_personality: "solaris"

# Multipath configuration recommendations
flasharray_multipath_enabled: true
flasharray_recommended_paths_per_host: 4  # 2 per controller minimum

# iSCSI configuration
flasharray_iscsi_mtu: 9000  # Jumbo frames recommended
flasharray_iscsi_tcp_window: 131072
flasharray_iscsi_use_chap: false  # Set true if CHAP required

# Fibre Channel configuration
flasharray_fc_queue_depth: 128
flasharray_fc_use_alua: true

# NVMe-oF configuration
flasharray_nvme_queue_depth: 1024
flasharray_nvme_io_queue_size: 1024

# Fourth Estate specific host configurations
flasharray_editorial_hostgroup: "editorial-systems"
flasharray_publishing_hostgroup: "publishing-platforms"
flasharray_cms_hostgroup: "cms-cluster"
flasharray_archive_hostgroup: "archive-systems"

# LUN assignment strategy
flasharray_lun_assignment_strategy: "automatic"  # or "manual"
flasharray_lun_start_number: 0

# Host naming convention
flasharray_host_naming_pattern: "{{ hostname }}.{{ domain_name }}"

# Connection monitoring
flasharray_monitor_host_connections: true
flasharray_connection_alert_threshold: 2  # Alert if less than 2 paths

# Performance tuning
flasharray_enable_queue_depth_tuning: true
flasharray_enable_io_scheduler_tuning: true
